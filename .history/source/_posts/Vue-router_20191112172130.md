---
title: Vue路由
date: 2019-11-12 17:07:10
tags:
  - "Vue"
categories:
  - "Vue"
keywords:
description: "Vue路由"
toc: false
---

**和锚点类似**

## 在模块化的开发中，需要手动明确安装路由功能

```js
import Vue from "vue";
import VueRouter from "vue-router";
Vue.use(VueRouter);
```

```js
var haha={ template:'<h3>哈哈</h3>' }
var hehe={ template:'<h3>呵呵</h3>' }
var xixi={ template:'<h3>嘻嘻</h3>' }
var rtobj=new VueRouter({
    routes: [
        {path:'/',redirect:'/haha'},  这条表示如果地址为根目录，则重新跳转为'/haha'地址
        {path:'/haha',component: haha},
        {path:'/hehe',component: hehe},
        {path:'/xixi',component: xixi}
    ]
})
var vm=new Vue({
    el:'#app',
    router: rtobj,
})
```

**其中在 VueRouter 的实例中，path(路径地址)和 component(组件对象)这两个参数是必须的**

**在 component 中的值为一个组件对象**

```js
//正确的
var login ={
    template:'<p>xxx</p>
}

//错误的
Vue.component('login',{
    template:'<p>xxx</p>
}
```

**注：记得在 Vue 的实例中使用 router：xx 来挂载这个 VueRouter 实例对象**

**最后只需要在页面中相关联的 div 里**

```html
<div id="app">
  <router-link to="/haha" tag="span">哈哈</router-link>
  <!--router-link在页面上默认渲染为a标签，也可以使用tag来改变其标签-->
  <router-link to="/hehe">呵呵</router-link>
  <!-- 相当于<a href='#/hehe'>呵呵</a> -->
  <router-link to="/xixi">嘻嘻</router-link>
  <router-view></router-view> 可以让路由在此显示
</div>
```

---

## 路由的按需加载

```js
{
  path: '/home',
  name:'home',
  component: resolve => require(['@/components/home'], resolve),
},
```

```html
//添加name后，可以在路由出使用name跳转
<router-link :to="{name:'home' , query:{id:'999'}}"></router-link> 
<router-link :to="{name:'home' , params:{id:'999'}}"></router-link> //这种是/home/:id/这种的

```
---

## 路由跳转的页面位置

```js
scrollBehavior (to, from, savedPosition) {
    return { x: 0, y: 0 }
},
//在配置路由中加上这个，每次跳转都会在顶部
```

---

## 取消url中的#
``` js
mode: 'history'
```



